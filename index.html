<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuneScape 3 Repeatables Checklist</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --background-color: #ecf0f1;
            --card-background: #ffffff;
            --text-color: #2c3e50;
            --border-color: #bdc3c7;
            --completed-bg: #d5f4e6;
            --task-spacing: 12px;
            --task-padding: 12px;
            --task-gap: 12px;
            --task-columns: 1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .progress-section {
            background: var(--background-color);
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .controls-section {
            background: var(--background-color);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .control-group label {
            font-size: 0.9em;
            font-weight: 600;
            color: var(--primary-color);
        }

        .density-slider {
            width: 150px;
            height: 5px;
            background: #ddd;
            outline: none;
            opacity: 0.7;
            transition: opacity 0.2s;
            border-radius: 5px;
        }

        .density-slider:hover {
            opacity: 1;
        }

        .density-slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--secondary-color);
            cursor: pointer;
            border-radius: 50%;
        }

        .density-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--secondary-color);
            cursor: pointer;
            border-radius: 50%;
            border: none;
        }

        .columns-select {
            padding: 8px 12px;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            background: white;
            color: var(--primary-color);
            font-size: 0.9em;
            cursor: pointer;
        }

        .columns-select:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), #2ecc71);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            font-weight: bold;
            color: var(--primary-color);
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary-color);
        }

        /* For sections with collapse buttons */
        .section-header:has(.collapse-toggle) {
            justify-content: space-between;
        }

        .section-header-left {
            display: flex;
            align-items: center;
        }

        /* Handle both old and new header structures */
        .section-header h2,
        .section-header-left h2 {
            font-size: 1.8em;
            color: var(--primary-color);
            margin-left: 10px;
        }

        .section-emoji {
            font-size: 1.5em;
        }

        /* Fallback for browsers that don't support :has() */
        @supports not (selector(:has(*))) {
            .section-header {
                justify-content: flex-start;
            }
            
            /* Specifically target collapsible sections */
            .section-header .collapse-toggle {
                margin-left: auto;
            }
        }

        .collapse-toggle {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background 0.2s ease;
        }

        .collapse-toggle:hover {
            background: var(--primary-color);
        }

        .collapse-toggle.collapsed::after {
            content: " ‚ñº";
        }

        .collapse-toggle:not(.collapsed)::after {
            content: " ‚ñ≤";
        }

        .collapsible-content {
            transition: max-height 0.3s ease, opacity 0.3s ease;
            overflow: hidden;
        }

        .collapsible-content.collapsed {
            max-height: 0;
            opacity: 0;
        }

        .collapsible-content:not(.collapsed) {
            max-height: 2000px;
            opacity: 1;
        }

        .subsection {
            margin-bottom: 25px;
        }

        .subsection h3 {
            font-size: 1.3em;
            color: var(--secondary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .subsection h3::before {
            content: "";
            width: 4px;
            height: 20px;
            background: var(--secondary-color);
            margin-right: 10px;
            border-radius: 2px;
        }

        .task-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(var(--task-columns), 1fr);
            gap: var(--task-gap);
        }

        .task-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: var(--task-spacing);
            padding: var(--task-padding);
            border-radius: 8px;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .task-item:hover {
            background: #f8f9fa;
            border-color: var(--border-color);
        }

        .task-item.completed {
            background: var(--completed-bg);
            opacity: 0.8;
        }

        .task-checkbox {
            margin-right: 12px;
            margin-top: 2px;
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--success-color);
        }

        .task-content {
            flex: 1;
        }

        .task-name {
            font-weight: 600;
            color: var(--primary-color);
        }

        .task-link {
            color: var(--secondary-color);
            text-decoration: none;
            margin-left: 8px;
        }

        .task-link:hover {
            text-decoration: underline;
        }

        .task-note {
            font-style: italic;
            color: #7f8c8d;
            margin-left: 8px;
        }

        .subtask-list {
            margin-top: 8px;
            margin-left: 20px;
        }

        .subtask-item {
            margin-bottom: 6px;
            padding: 6px;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--border-color), transparent);
            margin: 30px 0;
        }

        .notes-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .notes-section h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .notes-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .note-item {
            padding: 8px;
            background: white;
            border-radius: 4px;
            border-left: 4px solid var(--secondary-color);
        }

        .footer {
            text-align: center;
            padding: 20px;
            background: var(--background-color);
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .reset-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .reset-button {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background 0.2s ease;
        }

        .reset-button:hover {
            background: #c0392b;
        }

        .reset-button-monthly {
            background: #8e44ad;
        }

        .reset-button-monthly:hover {
            background: #732d91;
        }

        .reset-button-weekly {
            background: #2980b9;
        }

        .reset-button-weekly:hover {
            background: #1f618d;
        }

        .reset-button-daily {
            background: #f39c12;
        }

        .reset-button-daily:hover {
            background: #d68910;
        }

        /* Profile Section Styles */
        .profile-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .profile-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .profile-select {
            padding: 8px 12px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 14px;
            min-width: 200px;
        }

        .profile-select option {
            background: var(--primary-color);
            color: white;
        }

        .profile-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
            background: var(--success-color);
            color: white;
        }

        .profile-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .profile-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .delete-btn {
            background: var(--accent-color);
        }

        .delete-btn:hover:not(:disabled) {
            background: #c0392b;
        }

        .current-profile {
            text-align: center;
            font-size: 16px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }

        .current-profile.active {
            color: #2ecc71;
        }

        @media (max-width: 768px) {
            .profile-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .profile-select {
                min-width: auto;
            }
        }

        /* Timer Styles */
        .reset-timer {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.2);
            min-width: 120px;
            text-align: center;
            font-family: 'Courier New', monospace;
            letter-spacing: 0.5px;
        }

        .reset-timer.daily {
            background: linear-gradient(135deg, #f39c12, #d68910);
        }

        .reset-timer.weekly {
            background: linear-gradient(135deg, #2980b9, #1f618d);
        }

        .reset-timer.monthly {
            background: linear-gradient(135deg, #8e44ad, #732d91);
        }

        .reset-timer.expired {
            background: linear-gradient(135deg, #27ae60, #229954);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .auto-reset-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            font-weight: 600;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .auto-reset-notification.show {
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .content {
                padding: 20px;
            }

            .section-header h2 {
                font-size: 1.5em;
            }

            .reset-timer {
                margin-left: 8px;
                font-size: 0.75em;
                padding: 4px 8px;
                min-width: 100px;
            }

            .section-header-left {
                flex-wrap: wrap;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè∞ RuneScape 3 Repeatables</h1>
            <p>Track your daily, weekly, and monthly tasks efficiently</p>
            
            <!-- User Profile Section -->
            <div class="profile-section">
                <div class="profile-controls">
                    <select id="profileSelect" class="profile-select">
                        <option value="">Select Profile...</option>
                    </select>
                    <button id="createProfileBtn" class="profile-btn">Create Profile</button>
                    <button id="deleteProfileBtn" class="profile-btn delete-btn" disabled>Delete Profile</button>
                </div>
                <div id="currentProfile" class="current-profile">
                    <span>No profile selected</span>
                </div>
            </div>
        </div>

        <div class="progress-section">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0% Complete (0/0 tasks)</div>
            <div class="reset-buttons">
                <button class="reset-button" onclick="resetProgress()">Reset All Progress</button>
                <button class="reset-button reset-button-monthly" onclick="resetMonthlyProgress()">Reset Monthlies</button>
                <button class="reset-button reset-button-weekly" onclick="resetWeeklyProgress()">Reset Weeklies</button>
                <button class="reset-button reset-button-daily" onclick="resetDailyProgress()">Reset Dailies</button>
            </div>
        </div>

        <div class="controls-section">
            <div class="control-group">
                <label for="densitySlider">Task Density</label>
                <input type="range" id="densitySlider" class="density-slider" min="1" max="5" value="3" onchange="updateDensity(this.value)">
                <span id="densityValue">Normal</span>
            </div>
            <div class="control-group">
                <label for="columnsSelect">Columns</label>
                <select id="columnsSelect" class="columns-select" onchange="updateColumns(this.value)">
                    <option value="1">1 Column</option>
                    <option value="2">2 Columns</option>
                    <option value="3">3 Columns</option>
                    <option value="4">4 Columns</option>
                </select>
            </div>
        </div>

        <div class="content">
            <!-- Monthly Tasks -->
            <div class="section">
                <div class="section-header">
                    <div class="section-header-left">
                        <span class="section-emoji">üìÖ</span>
                        <h2>Monthly Tasks</h2>
                        <span class="reset-timer" id="monthly-timer">Loading...</span>
                    </div>
                    <button class="collapse-toggle" onclick="toggleCollapse('monthly-tasks')">Collapse</button>
                </div>
                <div id="monthly-tasks" class="collapsible-content">
                    <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-slomon">
                        <div class="task-content">
                            <span class="task-name">Slomon's Store</span>
                            <a href="https://secure.runescape.com/m=mtxn_rs_shop/index?jptg=ia&jptv=sgs_page#category/FreeItem" class="task-link" target="_blank">Microtransaction Shop</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-premier">
                        <div class="task-content">
                            <span class="task-name">Premier Vault</span>
                            <a href="https://runescape.wiki/w/Premier_Club_Vault" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-oyster">
                        <div class="task-content">
                            <span class="task-name">Giant Oyster</span>
                            <a href="https://runescape.wiki/w/Giant_Oyster" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-troll">
                        <div class="task-content">
                            <span class="task-name">Troll Invasion</span>
                            <a href="https://runescape.wiki/w/Troll_Invasion" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-statues">
                        <div class="task-content">
                            <span class="task-name">God Statues</span>
                            <a href="https://runescape.wiki/w/God_Statues" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-effigy">
                        <div class="task-content">
                            <span class="task-name">Effigy Incubator</span>
                            <a href="https://runescape.wiki/w/Effigy_Incubator" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="monthly-pyroclasts">
                        <div class="task-content">
                            <span class="task-name">Add Infernus Pyroclasts</span>
                            <span class="task-note">for Ultracompost</span>
                        </div>
                    </li>
                    </ul>
                </div>
            </div>

            <!-- Weekly Tasks -->
            <div class="section">
                <div class="section-header">
                    <div class="section-header-left">
                        <span class="section-emoji">üìÖ</span>
                        <h2>Weekly Tasks</h2>
                        <span class="reset-timer" id="weekly-timer">Loading...</span>
                    </div>
                    <button class="collapse-toggle" onclick="toggleCollapse('weekly-tasks')">Collapse</button>
                </div>
                <div id="weekly-tasks" class="collapsible-content">
                    <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-citadel">
                        <div class="task-content">
                            <span class="task-name">Cap Clan Citadel</span>
                            <a href="https://runescape.wiki/w/Clan_Citadel" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-thalmund">
                        <div class="task-content">
                            <span class="task-name">Thalmund's Wares</span>
                            <a href="https://runescape.wiki/w/Thalmund%27s_Wares" class="task-link" target="_blank">Wiki Guide</a>
                            <span class="task-note">(Wednesday)</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-aquarium">
                        <div class="task-content">
                            <span class="task-name">Aquarium Treasure Chest</span>
                            <a href="https://runescape.wiki/w/Treasure_chest_decoration" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-meg">
                        <div class="task-content">
                            <span class="task-name">Meg's Questions</span>
                            <a href="https://runescape.wiki/w/Meg#Meg's_questions" class="task-link" target="_blank">Wiki Guide</a>
                            <span class="task-note">(Use Arc Journal)</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-water">
                        <div class="task-content">
                            <span class="task-name">Water Filtration</span>
                            <a href="https://runescape.wiki/w/Water_filtration_system" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-tears">
                        <div class="task-content">
                            <span class="task-name">Tears of Guthix</span>
                            <a href="https://runescape.wiki/w/Tears_of_Guthix" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-herby">
                        <div class="task-content">
                            <span class="task-name">Herby Werby</span>
                            <a href="https://runescape.wiki/w/Herby_Werby" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-penguin">
                        <div class="task-content">
                            <span class="task-name">Penguin Hide and Seek</span>
                            <a href="http://2016.world60pengs.com/" class="task-link" target="_blank">World 60 Pengs</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-shattered">
                        <div class="task-content">
                            <span class="task-name">Shattered Worlds Challenges</span>
                            <a href="https://runescape.wiki/w/Shattered_Worlds" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-familiar">
                        <div class="task-content">
                            <span class="task-name">Familiarisation</span>
                            <a href="https://runescape.wiki/w/Familiarisation" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-skeletal">
                        <div class="task-content">
                            <span class="task-name">Skeletal Horror</span>
                            <a href="https://runescape.wiki/w/Skeletal_horror" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-agoroth">
                        <div class="task-content">
                            <span class="task-name">Agoroth</span>
                            <a href="https://runescape.wiki/w/Agoroth" class="task-link" target="_blank">Wiki Guide</a>
                            <span class="task-note">(2x per week)</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-broken">
                        <div class="task-content">
                            <span class="task-name">Replay Broken Home</span>
                            <a href="https://runescape.wiki/w/Broken_Home/Quick_guide" class="task-link" target="_blank">Quick Guide</a>
                            <span class="task-note">(No death speed run <37 min, max 1 food)</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-rush">
                        <div class="task-content">
                            <span class="task-name">Rush of Blood</span>
                            <a href="https://runescape.wiki/w/Rush_of_Blood" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="weekly-gwd2">
                        <div class="task-content">
                            <span class="task-name">GWD2 Bounties</span>
                            <a href="https://runescape.wiki/w/Feng,_the_Bounty_Master" class="task-link" target="_blank">Feng, the Bounty Master</a>
                        </div>
                    </li>
                    </ul>
                </div>
            </div>

            <div class="section-divider"></div>

            <!-- Daily Tasks -->
            <div class="section">
                <div class="section-header">
                    <div class="section-header-left">
                        <span class="section-emoji">üìÖ</span>
                        <h2>Daily Tasks</h2>
                        <span class="reset-timer" id="daily-timer">Loading...</span>
                    </div>
                </div>

                <!-- Time-gated Dailies -->
                <div class="subsection">
                    <h3>‚è∞ Time-gated Dailies</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-dsf">
                            <div class="task-content">
                                <span class="task-name">DSF Merchant</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-star">
                            <div class="task-content">
                                <span class="task-name">Shooting Star D&D</span>
                                <span class="task-note">'Starfind' FC</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-obelisk">
                            <div class="task-content">
                                <span class="task-name">Menaphos Obelisks</span>
                                <a href="https://runescape.wiki/w/Soul_obelisk_(Menaphos)" class="task-link" target="_blank">Soul Obelisk Guide</a>
                                <span class="task-note">'SoulObby' FC</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-cache">
                            <div class="task-content">
                                <span class="task-name">Guthixian Cache</span>
                                <a href="https://runescape.wiki/w/Guthixian_Cache" class="task-link" target="_blank">Wiki Guide</a>
                                <span class="task-note">(2x daily)</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-sinkhole">
                            <div class="task-content">
                                <span class="task-name">Sinkholes</span>
                                <a href="https://runescape.wiki/w/Sinkholes" class="task-link" target="_blank">Wiki Guide</a>
                                <span class="task-note">(2x daily)</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-runesphere">
                            <div class="task-content">
                                <span class="task-name">Runesphere</span>
                                <a href="https://runescape.wiki/w/Runesphere" class="task-link" target="_blank">Wiki Guide</a>
                                <span class="task-note">(25K XP)</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-wilderness">
                            <div class="task-content">
                                <span class="task-name">Wilderness Flash Events</span>
                                <a href="https://runescape.wiki/w/Wilderness_flash_events" class="task-link" target="_blank">Wiki Guide</a>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Non-Time-gated Dailies -->
                <div class="subsection">
                    <h3>üîÑ Non-Time-gated Dailies</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-reaper">
                            <div class="task-content">
                                <span class="task-name">Soul Reaper Task</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-ports">
                            <div class="task-content">
                                <span class="task-name">Player-owned Ports</span>
                                <a href="https://runescape.wiki/w/Player-owned_port" class="task-link" target="_blank">Port Guide</a>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-fixate">
                            <div class="task-content">
                                <span class="task-name">Fixate Charges</span>
                                <span class="task-note">3x Daily (Red Rum Relics II / III)</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-nemi">
                            <div class="task-content">
                                <span class="task-name">Nemi Forest</span>
                                <a href="https://runescape.wiki/w/Nemi_Forest" class="task-link" target="_blank">Wiki Guide</a>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-chinchompa">
                            <div class="task-content">
                                <span class="task-name">Big Chinchompa</span>
                                <a href="https://runescape.wiki/w/Big_Chinchompa" class="task-link" target="_blank">Wiki Guide</a>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-fish">
                            <div class="task-content">
                                <span class="task-name">Fish Flingers</span>
                                <a href="https://runescape.wiki/w/Fish_Flingers" class="task-link" target="_blank">Wiki Guide</a>
                                <span class="task-note">(2x entry tickets)</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-arc">
                            <div class="task-content">
                                <span class="task-name">Arc Contracts</span>
                                <a href="https://runescape.wiki/w/Contract" class="task-link" target="_blank">Contract Guide</a>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-bolts">
                            <div class="task-content">
                                <span class="task-name">Bakriminel Bolts</span>
                                <a href="https://runescape.wiki/w/Money_making_guide/Fletching_bakriminel_bolts" class="task-link" target="_blank">Money Making Guide</a>
                                <span class="task-note">(Every 6 hours)</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Infrequent Dailies -->
                <div class="subsection">
                    <h3>üìâ Infrequent Dailies</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-mazcab">
                            <div class="task-content">
                                <span class="task-name">Liberation of Mazcab Raids</span>
                                <a href="https://runescape.wiki/w/Liberation_of_Mazcab" class="task-link" target="_blank">Raid Guide</a>
                                <span class="task-note">'Raid FC' every 2 days</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-phoenix">
                            <div class="task-content">
                                <span class="task-name">Phoenix Lair</span>
                                <a href="https://runescape.wiki/w/Phoenix_Lair" class="task-link" target="_blank">Wiki Guide</a>
                                <span class="task-note">(Time consuming)</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="daily-bork">
                            <div class="task-content">
                                <span class="task-name">Bork</span>
                                <a href="https://runescape.wiki/w/Bork" class="task-link" target="_blank">Wiki Guide</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Fort Forinthry Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">üè∞</span>
                    <h2>Start at Fort Forinthry</h2>
                </div>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-challenges">
                        <div class="task-content">
                            <span class="task-name">Daily Challenges</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-miscellania">
                        <div class="task-content">
                            <span class="task-name">Miscellania</span>
                            <a href="https://runescape.wiki/w/Calculator:Other/Miscellania" class="task-link" target="_blank">Calculator</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-archaeology">
                        <div class="task-content">
                            <span class="task-name">Archaeology Research</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-bonus-xp">
                        <div class="task-content">
                            <span class="task-name">Fort Forinthry Bonus XP</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-kitchen">
                        <div class="task-content">
                            <span class="task-name">Fort Forinthry Kitchen Supplies</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-herblore">
                        <div class="task-content">
                            <span class="task-name">Fort Forinthry Herblore Supplies</span>
                            <div class="subtask-list">
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="fort-vials">
                                    <span class="task-name">Vials</span>
                                </div>
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="fort-eye-newt">
                                    <span class="task-name">Eye of newt</span>
                                </div>
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="fort-herb-supplies">
                                    <span class="task-name">Herblore supplies</span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-invention">
                        <div class="task-content">
                            <span class="task-name">Invention Machines</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-helms">
                        <div class="task-content">
                            <span class="task-name">Modified Skilling Helms Collection</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-jack">
                        <div class="task-content">
                            <span class="task-name">Jack of All Trades</span>
                            <a href="https://runescape.wiki/w/Jack_of_trades_aura/Routines" class="task-link" target="_blank">Routines Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-auras">
                        <div class="task-content">
                            <span class="task-name">Activate Premier XP Boost and Wisdom Aura</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-char">
                        <div class="task-content">
                            <span class="task-name">Book of Char</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="fort-serenity">
                        <div class="task-content">
                            <span class="task-name">Priff Serenity Posts</span>
                            <span class="task-note">(Agility Gear + Ancient Teleport Seed)</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="mining-gorajo-card">
                        <div class="task-content">
                            <span class="task-name">Gorajo Card</span>
                            <a href="https://runescape.wiki/w/Gorajo_card" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="mining-divine-locations">
                        <div class="task-content">
                            <span class="task-name">Divine Locations</span>
                            <a href="https://runescape.wiki/w/Divine_location" class="task-link" target="_blank">Wiki Guide</a>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="section-divider"></div>

            <!-- POF Gear & Burthorpe Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">üê∑</span>
                    <h2>Equip POF Gear & Advance Time Runes & TP to Burthorpe</h2>
                </div>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-slayer-shop">
                        <div class="task-content">
                            <span class="task-name">Slayer Master Shop</span>
                            <div class="subtask-list">
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="pof-broad-arrows">
                                    <span class="task-name">Broad Arrow Heads</span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-buy-runes">
                        <div class="task-content">
                            <span class="task-name">Buy Runes</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-taverley-flies">
                        <div class="task-content">
                            <span class="task-name">Zoom to Taverley and buy flies from pet shop</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-jatix">
                        <div class="task-content">
                            <span class="task-name">Jatix Herblore Supplies</span>
                            <div class="subtask-list">
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="pof-jatix-vials">
                                    <span class="task-name">Vials</span>
                                </div>
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="pof-jatix-eye-newt">
                                    <span class="task-name">Eye of newt</span>
                                </div>
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="pof-jatix-herb-supplies">
                                    <span class="task-name">Herblore supplies</span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-betamax">
                        <div class="task-content">
                            <span class="task-name">Betamax TP Bags</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-anachronia-dino">
                        <div class="task-content">
                            <span class="task-name">Anachronia Dino Farm</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-manor-farm">
                        <div class="task-content">
                            <span class="task-name">Ardougne Manor Farm</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="pof-pure-essence">
                        <div class="task-content">
                            <span class="task-name">Pure Essence Wizard Comperty</span>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="section-divider"></div>

            <!-- Craft Runes Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">üîÆ</span>
                    <h2>Craft Runes - Equip Normal RC Loadout</h2>
                </div>
                
                <div class="subsection">
                    <h3>üí∞ Profitable Runes</h3>
                    <p style="margin-bottom: 15px; font-style: italic; color: #7f8c8d;">
                        <a href="https://runescape.wiki/w/Money_making_guide/Buying_runes" class="task-link" target="_blank">Money Making Guide</a>
                    </p>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-vis-wax-check">
                            <div class="task-content">
                                <span class="task-name">Check daily Vis Wax rune using RC Cape</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-edgeville-tp">
                            <div class="task-content">
                                <span class="task-name">Edgeville TP</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-craft-abyss">
                            <div class="task-content">
                                <span class="task-name">Craft Fire/Astral Runes from Abyss</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-red-mage">
                            <div class="task-content">
                                <span class="task-name">Edgeville TP - Runes from Red Mage</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-mage-arena">
                            <div class="task-content">
                                <span class="task-name">Edgeville TP - Lever TP - Mage Arena Shop</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-port-sarim">
                            <div class="task-content">
                                <span class="task-name">Port Sarim TP - Runes Betty</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-void-knight">
                            <div class="task-content">
                                <span class="task-name">Void Knight Outpost TP</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-varrock">
                            <div class="task-content">
                                <span class="task-name">Varrock TP - Runes from Aubury</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-yanille">
                            <div class="task-content">
                                <span class="task-name">Yanille TP - Sand from Bert and Runes from Wizard Tower</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-lunar-isle">
                            <div class="task-content">
                                <span class="task-name">Lunar Isle TP - Runes from Baba Yaga</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-anachronia">
                            <div class="task-content">
                                <span class="task-name">Anachronia TP - Runes from Store Assistant</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-manage-base">
                            <div class="task-content">
                                <span class="task-name">Manage Anachronia Base</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="rc-craft-vis-wax">
                            <div class="task-content">
                                <span class="task-name">Craft Vis Wax at Wizard's Tower</span>
                                <a href="https://runescape.wiki/w/Rune_Goldberg_Machine" class="task-link" target="_blank">Vis Vax</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="section-divider"></div>

            <!-- Mining Gear Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">‚õèÔ∏è</span>
                    <h2>Equip Mining Gear & Resourceful Aura & Premier Porter Buff & Ancient Teleport Seed & Porters</h2>
                </div>
                
                <div class="subsection">
                    <h3>üèùÔ∏è TP to Oo'glog</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-red-sandstone">
                            <div class="task-content">
                                <span class="task-name">Mine Red Sandstone</span>
                                <div class="subtask-list">
                                    <div class="subtask-item">
                                        <input type="checkbox" class="task-checkbox" data-task="mining-thermal-flasks">
                                        <span class="task-name">Thermal Flasks / Flasks</span>
                                        <span class="task-note">(Use Artificer's Measure + Portables while crafting)</span>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-meat-packs">
                            <div class="task-content">
                                <span class="task-name">Buy Meat Packs</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="subsection">
                    <h3>üè∞ TP to Prifddinas</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-crystal-sandstone">
                            <div class="task-content">
                                <span class="task-name">Mine Crystal Sandstone</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-crystal-blossom">
                            <div class="task-content">
                                <span class="task-name">Get Crystal Tree Blossom</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-coeden-logs">
                            <div class="task-content">
                                <span class="task-name">Logs from Coeden</span>
                                <a href="https://runescape.wiki/w/Coeden" class="task-link" target="_blank">Wiki Guide</a>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-priff-herblore">
                            <div class="task-content">
                                <span class="task-name">Herblore Supplies</span>
                                <div class="subtask-list">
                                    <div class="subtask-item">
                                        <input type="checkbox" class="task-checkbox" data-task="mining-priff-vials">
                                        <span class="task-name">Vials</span>
                                    </div>
                                    <div class="subtask-item">
                                        <input type="checkbox" class="task-checkbox" data-task="mining-priff-eye-newt">
                                        <span class="task-name">Eye of newt</span>
                                    </div>
                                    <div class="subtask-item">
                                        <input type="checkbox" class="task-checkbox" data-task="mining-priff-herb-supplies">
                                        <span class="task-name">Herblore supplies</span>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="mining-motherlode-maw">
                            <div class="task-content">
                                <span class="task-name">Motherlode Maw</span>
                                <a href="https://runescape.wiki/w/Motherlode_Maw" class="task-link" target="_blank">Wiki Guide</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="section-divider"></div>

            <!-- Herb Run Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">üåø</span>
                    <h2>Herb Run</h2>
                    <span class="task-note">(Needs Ironman Information to be added)</span>
                </div>
                
                <div class="subsection">
                    <h3>üí∞ Profitability Calculator</h3>
                    <p style="margin-bottom: 15px; font-style: italic; color: #7f8c8d;">
                        <a href="https://runescape.wiki/w/Calculator:Farming/Herbs" class="task-link" target="_blank">Farming/Herbs Calculator</a>
                    </p>
                </div>

                <div class="subsection">
                    <h3>üå± Equip Farming Loadout & Activate Greenfingers Aura & Set Lunar Spellbook & Chug Juju Farming Potion</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-desert-tp">
                            <div class="task-content">
                                <span class="task-name">Mystic Teleport to Desert</span>
                                <span class="task-note">Collect 8 Ultracompost - Gather and Plant</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-troll-farm">
                            <div class="task-content">
                                <span class="task-name">Troll Farm Teleport</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-catherby">
                            <div class="task-content">
                                <span class="task-name">Farming Amulet TP to Catherby</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-cabbage-port">
                            <div class="task-content">
                                <span class="task-name">Cabbage Port</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-morytania">
                            <div class="task-content">
                                <span class="task-name">Morytania</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-manor-farm">
                            <div class="task-content">
                                <span class="task-name">Manor Farm</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-crwys">
                            <div class="task-content">
                                <span class="task-name">Ancient Crystal Seed - Crwys 5</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-wilderness">
                            <div class="task-content">
                                <span class="task-name">Wilderness</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="subsection">
                    <h3>‚öîÔ∏è War's Retreat & Ancient Spellbook & Store Dwarven Harvester</h3>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-wars-desert">
                            <div class="task-content">
                                <span class="task-name">Mystic Teleport to Desert</span>
                                <span class="task-note">Collect 8 Ultracompost</span>
                            </div>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" data-task="herb-hets-oasis">
                            <div class="task-content">
                                <span class="task-name">Het's Oasis RAPID GROWTH for Golden Roses</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="section-divider"></div>

            <!-- Necromancy Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">üíÄ</span>
                    <h2>Necromancy Run</h2>
                </div>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="necro-lupe">
                        <div class="task-content">
                            <span class="task-name">Gather free supplies from Lupe</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="necro-slime">
                        <div class="task-content">
                            <span class="task-name">Gather Slime</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="necro-ectoplasm">
                        <div class="task-content">
                            <span class="task-name">5x Rituals - Ectoplasm</span>
                            <span class="task-note">(Main site)</span>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="necro-essence">
                        <div class="task-content">
                            <span class="task-name">5x Rituals - Necro Essence</span>
                            <span class="task-note">(Vorkath site)</span>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="section-divider"></div>

            <!-- Shop Runs Section -->
            <div class="section">
                <div class="section-header">
                    <span class="section-emoji">üõí</span>
                    <h2>Generic Collectibles and Shop Runs</h2>
                </div>
                <ul class="task-list">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-culinaromancer">
                        <div class="task-content">
                            <span class="task-name">Culinaromancer's Chest</span>
                            <a href="https://runescape.wiki/w/Culinaromancer%27s_Chest" class="task-link" target="_blank">Wiki Guide</a>
                            <span class="task-note">in Lumbridge Castle</span>
                            <div class="subtask-list">
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="shop-food">
                                    <span class="task-name">Buy all food items</span>
                                </div>
                                <div class="subtask-item">
                                    <input type="checkbox" class="task-checkbox" data-task="shop-gloves">
                                    <span class="task-name">Buy gloves and disassemble</span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-maat">
                        <div class="task-content">
                            <span class="task-name">Feather of Ma'at</span>
                            <a href="https://runescape.wiki/w/Money_making_guide/Buying_feathers_of_Ma%27at" class="task-link" target="_blank">Money Making Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-feathers">
                        <div class="task-content">
                            <span class="task-name">Feather Shop Run</span>
                            <a href="https://runescape.wiki/w/Money_making_guide/Buying_feathers" class="task-link" target="_blank">Money Making Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-yak">
                        <div class="task-content">
                            <span class="task-name">Yak Hide</span>
                            <a href="https://runescape.wiki/w/Money_making_guide/Buying_yak-hide" class="task-link" target="_blank">Money Making Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-seaweed">
                        <div class="task-content">
                            <span class="task-name">Seaweed and Pineapple</span>
                            <a href="https://runescape.wiki/w/Money_making_guide/Buying_seaweed_and_pineapples_from_Arhein" class="task-link" target="_blank">Money Making Guide</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-potato">
                        <div class="task-content">
                            <span class="task-name">Potato Cactus from Wise Old Man</span>
                            <a href="https://runescape.wiki/w/Weird_Old_Man" class="task-link" target="_blank">Weird Old Man</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-planks">
                        <div class="task-content">
                            <span class="task-name">Planks from Razmire</span>
                            <a href="https://runescape.wiki/w/Razmire_Keelgan" class="task-link" target="_blank">Razmire Keelgan</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-flax">
                        <div class="task-content">
                            <span class="task-name">Flax from Geoffrey</span>
                            <a href="https://runescape.wiki/w/Geoffrey" class="task-link" target="_blank">Geoffrey</a>
                        </div>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" data-task="shop-fruit">
                        <div class="task-content">
                            <span class="task-name">Pineapples and Apples from Dell Monti</span>
                            <a href="https://runescape.wiki/w/Dell_Monti" class="task-link" target="_blank">Dell Monti</a>
                        </div>
                    </li>
                </ul>
            </div>

            <!-- Notes Section -->
            <div class="notes-section">
                <h3>üìù Abbreviations</h3>
                <div class="notes-list">
                    <div class="note-item"><strong>FC</strong> = Friends Chat</div>
                    <div class="note-item"><strong>TP</strong> = Teleport</div>
                    <div class="note-item"><strong>POF</strong> = Player-owned Farm</div>
                    <div class="note-item"><strong>RC</strong> = Runecrafting</div>
                    <div class="note-item"><strong>GWD2</strong> = God Wars Dungeon 2</div>
                    <div class="note-item"><strong>D&D</strong> = Distractions and Diversions</div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Last updated: December 6, 2025 | Your progress is saved locally in your browser</p>
        </div>
    </div>

    <script>
        // Profile Management System
        let currentProfile = null;
        const STORAGE_KEY = 'rs3-repeatables-profiles';
        const LEGACY_KEY = 'rs3-repeatables-progress';

        // Timer System
        let timerInterval = null;
        let lastResetCheck = {
            daily: null,
            weekly: null,
            monthly: null
        };

        // Load saved progress when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeProfileSystem();
            initializeTimerSystem();
            
            // Add event listeners to all checkboxes
            const checkboxes = document.querySelectorAll('.task-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    saveProgress();
                    updateProgress();
                    updateTaskAppearance(this);
                });
            });

            // Profile system event listeners
            document.getElementById('profileSelect').addEventListener('change', switchProfile);
            document.getElementById('createProfileBtn').addEventListener('click', createProfile);
            document.getElementById('deleteProfileBtn').addEventListener('click', deleteProfile);
        });

        // Timer System Functions
        function initializeTimerSystem() {
            // Load last reset check times
            const savedResetCheck = localStorage.getItem('rs3-last-reset-check');
            if (savedResetCheck) {
                lastResetCheck = JSON.parse(savedResetCheck);
            }

            // Add timer classes to timer elements
            document.getElementById('daily-timer').classList.add('daily');
            document.getElementById('weekly-timer').classList.add('weekly');
            document.getElementById('monthly-timer').classList.add('monthly');

            // Start the timer updates
            updateTimers();
            timerInterval = setInterval(updateTimers, 1000);

            // Check for auto-resets on page load
            checkForAutoResets();
        }

        function updateTimers() {
            const now = new Date();
            
            // Calculate next reset times
            const nextDaily = getNextDailyReset(now);
            const nextWeekly = getNextWeeklyReset(now);
            const nextMonthly = getNextMonthlyReset(now);

            // Update timer displays
            updateTimerDisplay('daily-timer', nextDaily, now);
            updateTimerDisplay('weekly-timer', nextWeekly, now);
            updateTimerDisplay('monthly-timer', nextMonthly, now);
        }

        function getNextDailyReset(now) {
            const nextReset = new Date(now);
            nextReset.setUTCHours(0, 0, 0, 0);
            nextReset.setUTCDate(nextReset.getUTCDate() + 1);
            return nextReset;
        }

        function getNextWeeklyReset(now) {
            const nextReset = new Date(now);
            nextReset.setUTCHours(0, 0, 0, 0);
            
            // Find next Wednesday (day 3, where Sunday = 0)
            const daysUntilWednesday = (3 - nextReset.getUTCDay() + 7) % 7;
            if (daysUntilWednesday === 0 && now.getUTCHours() >= 0) {
                // If it's Wednesday and past reset time, go to next Wednesday
                nextReset.setUTCDate(nextReset.getUTCDate() + 7);
            } else {
                nextReset.setUTCDate(nextReset.getUTCDate() + daysUntilWednesday);
            }
            
            return nextReset;
        }

        function getNextMonthlyReset(now) {
            const nextReset = new Date(now);
            nextReset.setUTCHours(0, 0, 0, 0);
            nextReset.setUTCDate(1);
            nextReset.setUTCMonth(nextReset.getUTCMonth() + 1);
            return nextReset;
        }

        function updateTimerDisplay(timerId, nextReset, now) {
            const timer = document.getElementById(timerId);
            const timeDiff = nextReset - now;

            if (timeDiff <= 0) {
                timer.textContent = 'RESET!';
                timer.classList.add('expired');
                return;
            }

            timer.classList.remove('expired');

            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            let timeString = '';
            if (days > 0) {
                timeString = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            } else if (hours > 0) {
                timeString = `${hours}h ${minutes}m ${seconds}s`;
            } else {
                timeString = `${minutes}m ${seconds}s`;
            }

            timer.textContent = timeString;
        }

        function checkForAutoResets() {
            if (!currentProfile) return;

            const now = new Date();
            const currentDay = now.toDateString();
            const currentWeek = getWeekKey(now);
            const currentMonth = `${now.getUTCFullYear()}-${now.getUTCMonth()}`;

            let resetOccurred = false;

            // Check daily reset
            if (lastResetCheck.daily !== currentDay && hasPassedDailyReset(now)) {
                resetDailyProgress(true);
                lastResetCheck.daily = currentDay;
                resetOccurred = true;
            }

            // Check weekly reset
            if (lastResetCheck.weekly !== currentWeek && hasPassedWeeklyReset(now)) {
                resetWeeklyProgress(true);
                lastResetCheck.weekly = currentWeek;
                resetOccurred = true;
            }

            // Check monthly reset
            if (lastResetCheck.monthly !== currentMonth && hasPassedMonthlyReset(now)) {
                resetMonthlyProgress(true);
                lastResetCheck.monthly = currentMonth;
                resetOccurred = true;
            }

            if (resetOccurred) {
                localStorage.setItem('rs3-last-reset-check', JSON.stringify(lastResetCheck));
                showAutoResetNotification();
            }
        }

        function hasPassedDailyReset(now) {
            const todayReset = new Date(now);
            todayReset.setUTCHours(0, 0, 0, 0);
            return now >= todayReset;
        }

        function hasPassedWeeklyReset(now) {
            const thisWeekReset = new Date(now);
            thisWeekReset.setUTCHours(0, 0, 0, 0);
            const daysSinceWednesday = (now.getUTCDay() - 3 + 7) % 7;
            thisWeekReset.setUTCDate(thisWeekReset.getUTCDate() - daysSinceWednesday);
            return now >= thisWeekReset;
        }

        function hasPassedMonthlyReset(now) {
            const thisMonthReset = new Date(now);
            thisMonthReset.setUTCHours(0, 0, 0, 0);
            thisMonthReset.setUTCDate(1);
            return now >= thisMonthReset;
        }

        function getWeekKey(date) {
            const wednesday = new Date(date);
            const daysSinceWednesday = (date.getUTCDay() - 3 + 7) % 7;
            wednesday.setUTCDate(wednesday.getUTCDate() - daysSinceWednesday);
            return `${wednesday.getUTCFullYear()}-W${Math.ceil(wednesday.getUTCDate() / 7)}`;
        }

        function showAutoResetNotification() {
            const notification = document.createElement('div');
            notification.className = 'auto-reset-notification';
            notification.textContent = 'üîÑ Tasks have been automatically reset!';
            document.body.appendChild(notification);

            setTimeout(() => notification.classList.add('show'), 100);
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 4000);
        }

        function initializeProfileSystem() {
            migrateLegacyData();
            loadProfiles();
            
            // Try to load the last used profile
            const lastProfile = localStorage.getItem('rs3-last-profile');
            if (lastProfile && getProfiles()[lastProfile]) {
                switchToProfile(lastProfile);
            }
        }

        function migrateLegacyData() {
            const legacyData = localStorage.getItem(LEGACY_KEY);
            if (legacyData) {
                const profiles = getProfiles();
                if (!profiles['Default']) {
                    profiles['Default'] = {
                        name: 'Default',
                        progress: JSON.parse(legacyData),
                        created: new Date().toISOString()
                    };
                    saveProfiles(profiles);
                    localStorage.removeItem(LEGACY_KEY);
                }
            }
        }

        function getProfiles() {
            const saved = localStorage.getItem(STORAGE_KEY);
            return saved ? JSON.parse(saved) : {};
        }

        function saveProfiles(profiles) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(profiles));
        }

        function loadProfiles() {
            const profiles = getProfiles();
            const select = document.getElementById('profileSelect');
            
            // Clear existing options except the first one
            select.innerHTML = '<option value="">Select Profile...</option>';
            
            Object.keys(profiles).forEach(profileId => {
                const option = document.createElement('option');
                option.value = profileId;
                option.textContent = profiles[profileId].name;
                select.appendChild(option);
            });
        }

        function createProfile() {
            const profileName = prompt('Enter profile name:');
            if (!profileName || profileName.trim() === '') {
                return;
            }

            const trimmedName = profileName.trim();
            const profileId = generateProfileId(trimmedName);
            const profiles = getProfiles();

            // Check if profile already exists
            if (Object.values(profiles).some(p => p.name.toLowerCase() === trimmedName.toLowerCase())) {
                alert('A profile with this name already exists!');
                return;
            }

            profiles[profileId] = {
                name: trimmedName,
                progress: {},
                created: new Date().toISOString()
            };

            saveProfiles(profiles);
            loadProfiles();
            switchToProfile(profileId);
        }

        function deleteProfile() {
            if (!currentProfile) return;

            const profiles = getProfiles();
            const profileName = profiles[currentProfile].name;

            if (confirm(`Are you sure you want to delete the profile "${profileName}"? This cannot be undone.`)) {
                delete profiles[currentProfile];
                saveProfiles(profiles);
                
                // Clear current profile
                currentProfile = null;
                localStorage.removeItem('rs3-last-profile');
                
                // Reset UI
                document.getElementById('profileSelect').value = '';
                document.getElementById('currentProfile').textContent = 'No profile selected';
                document.getElementById('currentProfile').classList.remove('active');
                document.getElementById('deleteProfileBtn').disabled = true;
                
                // Clear all checkboxes
                clearAllCheckboxes();
                updateProgress();
                loadProfiles();
            }
        }

        function switchProfile() {
            const select = document.getElementById('profileSelect');
            const profileId = select.value;
            
            if (profileId) {
                switchToProfile(profileId);
            } else {
                currentProfile = null;
                localStorage.removeItem('rs3-last-profile');
                document.getElementById('currentProfile').textContent = 'No profile selected';
                document.getElementById('currentProfile').classList.remove('active');
                document.getElementById('deleteProfileBtn').disabled = true;
                clearAllCheckboxes();
                updateProgress();
            }
        }

        function switchToProfile(profileId) {
            const profiles = getProfiles();
            if (!profiles[profileId]) return;

            currentProfile = profileId;
            localStorage.setItem('rs3-last-profile', profileId);
            
            // Update UI
            document.getElementById('profileSelect').value = profileId;
            document.getElementById('currentProfile').textContent = `Active: ${profiles[profileId].name}`;
            document.getElementById('currentProfile').classList.add('active');
            document.getElementById('deleteProfileBtn').disabled = false;
            
            // Load profile progress
            loadProgress();
            updateProgress();
        }

        function generateProfileId(name) {
            return name.toLowerCase().replace(/[^a-z0-9]/g, '') + '_' + Date.now();
        }

        function saveProgress() {
            if (!currentProfile) return;

            const checkboxes = document.querySelectorAll('.task-checkbox');
            const progress = {};
            
            checkboxes.forEach(checkbox => {
                progress[checkbox.dataset.task] = checkbox.checked;
            });
            
            const profiles = getProfiles();
            if (profiles[currentProfile]) {
                profiles[currentProfile].progress = progress;
                profiles[currentProfile].lastUpdated = new Date().toISOString();
                saveProfiles(profiles);
            }
        }

        function loadProgress() {
            if (!currentProfile) {
                clearAllCheckboxes();
                return;
            }

            const profiles = getProfiles();
            const profile = profiles[currentProfile];
            
            if (profile && profile.progress) {
                // Clear all checkboxes first
                clearAllCheckboxes();
                
                // Load profile progress
                Object.keys(profile.progress).forEach(taskId => {
                    const checkbox = document.querySelector(`[data-task="${taskId}"]`);
                    if (checkbox) {
                        checkbox.checked = profile.progress[taskId];
                        updateTaskAppearance(checkbox);
                    }
                });
            } else {
                clearAllCheckboxes();
            }
        }

        function clearAllCheckboxes() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.checked = false;
                updateTaskAppearance(checkbox);
            });
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            const totalTasks = checkboxes.length;
            const completedTasks = Array.from(checkboxes).filter(cb => cb.checked).length;
            const percentage = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${percentage}% Complete (${completedTasks}/${totalTasks} tasks)`;
        }

        function updateTaskAppearance(checkbox) {
            const taskItem = checkbox.closest('.task-item');
            if (checkbox.checked) {
                taskItem.classList.add('completed');
            } else {
                taskItem.classList.remove('completed');
            }
        }

        function resetProgress() {
            if (!currentProfile) {
                alert('Please select a profile first.');
                return;
            }

            const profiles = getProfiles();
            const profileName = profiles[currentProfile].name;

            if (confirm(`Are you sure you want to reset all progress for "${profileName}"? This cannot be undone.`)) {
                profiles[currentProfile].progress = {};
                profiles[currentProfile].lastUpdated = new Date().toISOString();
                saveProfiles(profiles);
                
                clearAllCheckboxes();
                updateProgress();
            }
        }

        function resetMonthlyProgress(autoReset = false) {
            if (autoReset || confirm('Are you sure you want to reset all monthly task progress? This cannot be undone.')) {
                const monthlyCheckboxes = document.querySelectorAll('.task-checkbox[data-task^="monthly-"]');
                monthlyCheckboxes.forEach(checkbox => {
                    checkbox.checked = false;
                    updateTaskAppearance(checkbox);
                });
                saveProgress();
                updateProgress();
            }
        }

        function resetWeeklyProgress(autoReset = false) {
            if (autoReset || confirm('Are you sure you want to reset all weekly task progress? This cannot be undone.')) {
                const weeklyCheckboxes = document.querySelectorAll('.task-checkbox[data-task^="weekly-"]');
                weeklyCheckboxes.forEach(checkbox => {
                    checkbox.checked = false;
                    updateTaskAppearance(checkbox);
                });
                saveProgress();
                updateProgress();
            }
        }

        function resetDailyProgress(autoReset = false) {
            if (autoReset || confirm('Are you sure you want to reset all daily task progress? This cannot be undone.')) {
                const dailyPrefixes = ['daily-', 'fort-', 'pof-', 'rc-', 'mining-', 'herb-', 'necro-', 'shop-'];
                const dailyCheckboxes = document.querySelectorAll('.task-checkbox');
                
                dailyCheckboxes.forEach(checkbox => {
                    const taskId = checkbox.dataset.task;
                    if (dailyPrefixes.some(prefix => taskId.startsWith(prefix))) {
                        checkbox.checked = false;
                        updateTaskAppearance(checkbox);
                    }
                });
                saveProgress();
                updateProgress();
            }
        }

        function toggleCollapse(sectionId) {
            const content = document.getElementById(sectionId);
            const button = document.querySelector(`[onclick="toggleCollapse('${sectionId}')"]`);
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                button.classList.remove('collapsed');
                button.textContent = 'Collapse';
            } else {
                content.classList.add('collapsed');
                button.classList.add('collapsed');
                button.textContent = 'Expand';
            }
        }

        function updateDensity(value) {
            const root = document.documentElement;
            const densityValue = document.getElementById('densityValue');
            
            const densitySettings = {
                1: { spacing: '4px', padding: '6px', gap: '4px', label: 'Very Tight' },
                2: { spacing: '8px', padding: '8px', gap: '6px', label: 'Tight' },
                3: { spacing: '12px', padding: '12px', gap: '12px', label: 'Normal' },
                4: { spacing: '16px', padding: '16px', gap: '16px', label: 'Loose' },
                5: { spacing: '20px', padding: '20px', gap: '20px', label: 'Very Loose' }
            };
            
            const setting = densitySettings[value];
            root.style.setProperty('--task-spacing', setting.spacing);
            root.style.setProperty('--task-padding', setting.padding);
            root.style.setProperty('--task-gap', setting.gap);
            densityValue.textContent = setting.label;
        }

        function updateColumns(value) {
            const root = document.documentElement;
            root.style.setProperty('--task-columns', value);
        }
    </script>
</body>
</html>
